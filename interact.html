<!DOCTYPE html>
<!--Bluetooth code is copied from: https://googlechrome.github.io/samples/web-bluetooth/device-info-async-await.html-->
<html>
<head>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="centerdiv">
  <h class="header1">
    Pair, and run exercise below.
  </h>
  <h class ="header2">
  </h>
  </div>
  <div class="centerbuttondiv">
    <div class="pairingdiv">
        <form>
        <button>Pair Bluetooth Device</button>
      </form>

      Pairing Status
      <div id="output" class="output">
        <div id="content"></div>
        <div id="status"></div>
        <pre id="log"></pre>
      </div>
    </div>
    <div class="livedatareadout">
      <div class="datafeed">
        <p id="datafeed"></p>
      </div>
      Finger Pressure Test
    </div>
    <a class="thinb" href="index.html">
      Home
    </a>
  </div>

<script>
  var counter = 0;
  var elem = document.getElementById("datafeed");
  var inst = setInterval(change, 1000);

  function change() {
    elem.innerHTML = counter;
    counter++;
    if (counter >= 1000) {
      counter = 0;
  // clearInterval(inst); // uncomment this if you want to stop refreshing after one cycle
    }
  }
  var SerialPort = require("serialport").SerialPort;
  var serialport = new SerialPort("/dev/tty.usbmodem1421");
  serialport.on('open', function(){
    console.log('Serial Port Opend');
    serialport.on('data', function(data){
        console.log(data[0]);
    });
  });
</script>
</body>

<script src="device-info.js"></script>

</html>
